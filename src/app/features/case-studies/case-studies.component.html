<section class="pt-28 pb-16" aria-label="Case Studies">
  <div class="section-container">

    <app-section-header
      label="Portfolio"
      title="Enterprise Case Studies"
      subtitle="Real-world projects showcasing architecture decisions, performance gains, and measurable business impact." />

    <!-- Case Study Cards -->
    <div class="space-y-8">
      @for (study of caseStudies; track study.slug; let i = $index) {
        <article class="card overflow-hidden" appScrollReveal="fade-up" [revealDelay]="i * 100">
          <div class="p-6 sm:p-8">
            <!-- Header -->
            <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-6">
              <div>
                <div class="flex items-center gap-3 mb-2">
                  <span class="badge">{{ study.year }}</span>
                  <span class="text-sm text-slate-500 dark:text-slate-400">{{ study.subtitle }}</span>
                </div>
                <h3 class="heading-3 text-slate-900 dark:text-white">{{ study.title }}</h3>
              </div>
              <a [routerLink]="['/case-studies', study.slug]"
                 class="btn-outline text-sm px-4 py-2 flex-shrink-0">
                View Details
                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                </svg>
              </a>
            </div>

            <p class="text-slate-600 dark:text-slate-300 leading-relaxed mb-6">{{ study.description }}</p>

            <!-- Metrics Grid -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
              @for (metric of study.results; track metric.label) {
                <div class="bg-slate-50 dark:bg-slate-900/50 rounded-xl p-4 text-center">
                  <p class="text-xs text-slate-500 dark:text-slate-400 mb-1 font-medium">{{ metric.label }}</p>
                  <div class="flex items-center justify-center gap-2">
                    <span class="text-xs text-red-500 line-through">{{ metric.before }}</span>
                    <svg class="w-3 h-3 text-green-500" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                    </svg>
                    <span class="text-sm font-bold text-green-600 dark:text-green-400">{{ metric.after }}</span>
                  </div>
                  <p class="text-xs text-green-600 dark:text-green-400 font-medium mt-1">{{ metric.improvement }}</p>
                </div>
              }
            </div>

            <!-- Tech Stack -->
            <div class="flex flex-wrap gap-2">
              @for (tech of study.technologies; track tech) {
                <span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium
                             bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300">
                  {{ tech }}
                </span>
              }
            </div>
          </div>
        </article>
      }
    </div>

  </div>
</section>
